#!/bin/sh

set -e


## Install composer plugin
composer global require phpstan/phpstan \
  --no-progress \
  --no-scripts \
  --no-interaction \
  --ansi \
  --profile

composer global require nunomaduro/phpinsights \
  --no-progress \
  --no-scripts \
  --no-interaction \
  --ansi \
  --profile

composer global require phpmetrics/phpmetrics \
  --no-progress \
  --no-scripts \
  --no-interaction \
  --ansi \
  --profile

## Install phpunit
curl --location --output /usr/local/bin/phpunit https://phar.phpunit.de/phpunit.phar
chmod +x /usr/local/bin/phpunit

## Install composer
curl --location --output /usr/local/bin/composer https://getcomposer.org/composer-stable.phar
chmod +x /usr/local/bin/composer

## composer check-platform-reqs
composer check-platform-reqs
